<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">

<title>Blender plugin for THPS custom levels/models (io_thps_scene) - Tony Hawk Archive</title>

<!-- base href="https://tharchive.net/" -->
<link rel="icon" href="https://tharchive.net/favicon.ico"> 
<link href="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/Lato.css" rel="stylesheet"> 
<link rel="stylesheet" type="text/css" href="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/default_002.css">
<link rel="stylesheet" type="text/css" href="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/bootstrap.css">
<link rel="stylesheet" type="text/css" href="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/bootstrap-theme.css">

<link rel="stylesheet" href="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/default.css">
<link rel="stylesheet" href="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/image_caption.css">

<script type="text/javascript" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/jquery.js"></script><style>@media print {#ghostery-tracker-tally {display:none !important}}</style>
<!--[if lte IE 8]><script type="text/javascript" src="js/jquery_ie_fade_fix.js"></script><![endif]-->
<script type="text/javascript" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/bootstrap.js"></script>
<script type="text/javascript" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/page_anims.js"></script>
</head><body> 

    <div class="container" id="site-container">
        <div id="site-folder">
        <div class="row" id="header-home">
	<div id="header-home-icon" class="col-sm-12"><img src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/header-2020-test.jpg" alt=""></div>
	<div id="header-home-title"><h1><a href="https://tharchive.net/index.html"> Tony Hawk Archive</a></h1></div>
</div>

<div id="site-header" class="row">
    <div class="col-sm-6">
    <a href="https://tharchive.net/index.html"><img src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/header-2020-test.jpg" id="header-home-small" alt=""></a>
    </div>
    <div class="col-sm-6">
    <ul class="nav nav-tabs" id="site-navigation">
        <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-star"></span> Spotlight</a>
            <div class="dropdown-menu list-group">
                <a href="https://tharchive.net/misc/custom_levels.html" class="caption_link">
                <div class="imgcaption">
                    <img src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/custom_levels.jpg" alt="Custom Levels" title="Custom Levels">
                    <div><p>Custom Levels</p></div>
                </div>
                </a>
                <a href="https://tharchive.net/misc/io_thps_scene.html" class="caption_link">
                <div class="imgcaption">
                    <img src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/io_thps_scene.jpg" alt="Underground+" title="New Blender Plugin">
                    <div><p>New Blender Plugin</p></div>
                </div>
                </a>
                <a href="https://tharchive.net/mods/thug_plus.html" class="caption_link">
                <div class="imgcaption">
                    <img src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/underground_plus_2020.jpg" alt="Underground+" title="Underground Plus (The Mod)">
                    <div><p>Underground Plus - The Mod</p></div>
                </div>
                </a>
                <a href="https://tharchive.net/thlive.html" class="caption_link">
                <div class="imgcaption">
                    <img src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/thlive.jpg" alt="THLiVE" title="THLiVE Forums Archive">
                    <div><p>THLiVE Archive</p></div>
                </div>
                </a>
            </div>
        </li>
        <li><a href="https://tharchive.net/videos/classic_videos.html"><span class="glyphicon glyphicon-film"></span> Videos</a></li>
        <li><a href="https://tharchive.net/pages.html"><span class="glyphicon glyphicon-book"></span> Pages</a></li>
        <li><a href="https://tharchive.net/links.html"><span class="glyphicon glyphicon-list-alt"></span> Links</a></li>
    </ul>
    </div>
</div>        <div id="site-inner">
        <style type="text/css">.alert { color: #333; } .table-condensed > tbody > tr > td, .table-condensed > tbody > tr > th, .table-condensed > tfoot > tr > td, .table-condensed > tfoot > tr > th, .table-condensed > thead > tr > td, .table-condensed > thead > tr > th { padding: 2px; }</style>

<h1>New Blender Plugin (io_thps_scene)</h1>

<p>For those looking to build their own levels for THUG1/2 (or 
Underground+/THUG PRO), I've taken the last release from asdf and 
greatly expanded on the original work, adding a ton of new tools that 
should make importing and exporting much faster and easier. I've also 
got some tricks that will make your levels look better than you probably
 thought was possible on these old game engines!</p>

<p>It's not a total rewrite, but a fork of the original code which has 
been refactored and expanded. If you're familiar with the old version, 
then you should be able to adjust to this one without much trouble.</p>

<p><a href="http://tharchive.net/downloads/io_thps_scene_1.1.zip" class="btn btn-large btn-primary"><span class="glyphicon glyphicon-download-alt"></span> Download io_thps_scene (v1.1, 07/07/2018)</a>
<a href="https://github.com/denetii/io_thps_scene" target="_blank" class="btn btn-large btn-info"><span class="glyphicon glyphicon-link"></span> View source/get latest build on GitHub</a></p>

<div class="row">
<div class="col-md-12">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/overview.jpg" alt="Editor Overview" title="Editor Overview">
    <p></p>
</div>
</div>

<h2 id="Overview">Overview</h2>

<p>If you've been using <code>io_thug_tools</code>, you'll find a wide 
variety of additional features, fixes, and feature improvements. Here is
 a brief summary of what you can expect to find:</p>

<ul>
    <li>Added tons of missing object properties and node types - the 
vast majority of object/nodes are fully handled directly in the plugin, 
without the need for 'node expansion' blocks</li>
    <li>Added presets! Most nodes can be inserted through the new presets menu </li>
    <li>Fully automated lightmap baking! Easily bake lighting or ambient
 occlusion to your level/model/skin! (only supported on new versions of 
THUG PRO/Underground+)</li>
    <li>Expanded scene import options - including THPS1-4, THUG1, and Custom parks!</li>
    <li>Totally revamped object/node scripting, using an all-new template system that gives you more built-in TriggerScripts</li>
    <li>Improved export options, much faster exporting and support for the new custom level format in THUG PRO</li>
    <li>Added previously missing settings when working with materials/textures</li>
    <li>Added support for using separate scene/collision mesh</li>
    <li>Improved rendering of rail/waypoint paths in the viewport</li>
    <li>New utility functions, allowing you to run a variety of actions on your entire scene to speed up the build process</li>
    <li>Many, many bug fixes!</li>
</ul>

<p>That is just a summary of the new features - you'll find many more as
 you poke around. I've taken the time to write a user guide covering the
 new features and some of the old ones, to hopefully make things easier 
for newbies!</p>

<h2>User Guide</h2>

<div class="panel" style="display: inline-block;">
  <div class="panel-body">
    <ul class="list-unstyled">
        <li><a href="https://tharchive.net/misc/io_thps_scene.html#Setup">Setup/Installation</a></li>
        <li><a href="https://tharchive.net/misc/io_thps_scene.html#Presets">Presets/Adding objects</a><ul>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Helpers">Helpers</a></li>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Getting_started">Getting started</a></li>
        </ul></li>
        <li><a href="https://tharchive.net/misc/io_thps_scene.html#Mesh_rails_paths">Mesh, rails and paths</a><ul>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Edge_Rails">Edge Rails &amp; Extracted Rails</a></li>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Waypoints">Waypoints</a></li>
        </ul></li>
        <li><a href="https://tharchive.net/misc/io_thps_scene.html#Object_settings">Object settings</a><ul>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Batch_properties">Batch properties</a></li>
        </ul></li>
        <li><a href="https://tharchive.net/misc/io_thps_scene.html#Materials">Materials and Textures</a><ul>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Material_passes">Material passes</a></li>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Animating_textures">Animating textures</a></li>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#The_problem_with_UVs">The problem with UVs</a></li>
        </ul></li>
        <li><a href="https://tharchive.net/misc/io_thps_scene.html#Level_scripting">Level scripting</a><ul>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Special_Scripts">Special Scripts</a></li>
        </ul></li>
        <li><a href="https://tharchive.net/misc/io_thps_scene.html#Exporting">Exporting</a><ul>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Quick_Exporting">Level Settings/Quick Exporting</a></li>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#PRX_limitations">.prx Limitations</a></li>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Export_locations">Export Locations</a></li>
        </ul></li>
        <li><a href="https://tharchive.net/misc/io_thps_scene.html#Baking_Lightmaps">Baking Lightmaps</a><ul>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Bake_settings">Bake settings</a></li>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Lightmap_settings">Lightmap settings</a></li>
        </ul></li>
        <li><a href="https://tharchive.net/misc/io_thps_scene.html#Import_Tools">Import Tools &amp; Utilities</a><ul>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Importing_Levels">Importing Levels</a></li>
            <li><a href="https://tharchive.net/misc/io_thps_scene.html#Importing_Parks">Importing Custom Parks</a></li>
        </ul></li>
        <li><a href="https://tharchive.net/misc/io_thps_scene.html#Known_issues">Known_issues</a></li>
        <li><a href="https://tharchive.net/misc/io_thps_scene.html#Useful_scripts">Useful scripts</a></li>
        <li><a href="https://tharchive.net/misc/io_thps_scene.html#Change_Log">Change Log</a></li>
    </ul>
  </div>
</div>

<h3 id="Setup">Setup/Installation</h3>

<p>Download <strong>io_thps_scene.zip</strong> above, as well as <strong>thug_tools.zip</strong>. Extract <strong>thug_tools.zip</strong> to a desired location on your system, then go to Blender's plugin manager. Click the <u>Install add-on from file</u>
 button and browse to the zip file you've just downloaded. The plugin 
should then appear in the list - click the checkbox to activate it.</p>

<p>Once done, expand the menu item for the <u>THPS Scene Export/Import</u> plugin - this will show a preferences box. Set the <strong>Base files directory</strong> to the location you extracted <strong>thug_tools.zip</strong>.
 Make any other changes to the default plugin settings you wish, hit the
 'Save User Settings' button on the bottom of the menu, <strong>restart Blender</strong>, and you're ready to go!</p>

<div class="alert alert-danger"><strong>NOTE:</strong> The zip file must be named <code>io_thps_scene</code>, or the plugin <strong>will not work correctly</strong>. If you're pulling the latest version off GitHub then you need to rename the zip file accordingly. Also make sure to <strong>restart Blender</strong> after installing/activating the plugin for the first time.
<br><br>
This plugin requires <strong>Blender 2.79</strong>. The majority of the 
plugin was developed on 2.79 RC, and anything earlier than that is not 
supported - while 2.78 or earlier versions may appear to work, future 
updates to the plugin will exclude these versions entirely.
</div>

<hr>

<h3>I've never used a 3D editor before but I want to make THPS levels! Where do I start?</h3>

<p>It's going to take you a while to gain the experience required to use this plugin effectively. Definitely check out the <a href="https://docs.blender.org/manual/en/dev/" target="_blank">Blender manual</a>,
 especially the first two sections (covering the UI and editors). You'll
 also want to open the new example level .blend file, contained in the 
thug_tools package.</p>

<p>This guide is going to assume that you know the basics of 3D modeling
 - working with mesh, materials, UV maps - and that you know how to get 
around the Blender interface.</p>

<hr>

<h3 id="Presets">Presets/Adding objects</h3>

<div class="row">
<div class="col-md-6">
    <p>With this version of the plugin, presets have finally been added 
to the editor! They are an extension of the existing Add menu, which you
 can access from the 3D view's 'Add' menu option, or by hitting Shift + A
 in the 3D view. You should find all commonly used objects and nodes in 
here - and if you're not comfortable building your own mesh from 
scratch, you can also drop in park editor pieces from THPS4, THUG1, and 
THUG2/PRO!</p>
    <div class="alert alert-info"><strong>NOTE</strong>: If you are 
working with park editor pieces and want to simulate the editor grid, 
set your grid scale to 120 when moving along the X/Y axis, and 48 when 
moving along the Z axis. In a future release, I may add buttons to make 
these movements automatically.</div>
    <p>Under the <strong>Nodes</strong> category, you should find pretty
 much every non-mesh component you'll need in a custom level, including 
vehicles, pedestrians, CTF components, rails/ladders/waypoints, and 
more. <strong>Presets</strong> include mesh objects rigged with special 
properties/scripting for ease of use, such as bouncy objects or 
breakable glass. The Park Editor pieces are mapped out with the same 
categories and names as in their respective games, so you should find it
 easy to use.</p>
    <p>Presets are always placed wherever the cursor is currently 
pointing - that is, the red and black crosshairs you can see in the 3D 
view (click anywhere in the view to move it).</p>
</div>
<div class="col-md-6">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/add_menu.jpg" alt="Presets" title="Presets">
    <p></p>
</div>
</div>

<h4 id="Helpers">Helpers</h4>

<p>Many game elements, such as restarts, CTF components and 
pedestrians/vehicles, now generate models to better visualize how they 
will appear in the game. CTF flags and bases use the actual models and 
colors, which make them easy to identify - while restarts use models 
from the CAP editor for familiarity. Pedestrians and vehicles use 
placeholder models - they are not based on the actual model/profile 
referenced (though in the future I may be able to load the actual 
models).</p>

<p>These models help a great deal with placement, but they cannot be interacted with in the 3D view. The models themselves are <strong>NOT selectable</strong> - you need to select the box outlining the model to get to the actual object.</p>

<h4 id="Getting_started">Getting started</h4>

<div class="row">
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/helper_mesh.jpg" alt="Example level" title="Example level">
    <p></p>
</div>
<div class="col-md-8">
    <p>The new plugin includes a new example level which uses almost all of the new plugin elements. From your <strong>thug_tools</strong> directory, browse to <code>scenes/example_level_THUG1.blend</code> or <code>scenes/example_level_THUG2.blend</code> and open it in Blender. </p>
    
    <p>The scene is relatively small but includes pedestrians, vehicles,
 AI skaters, as well as objects with triggers and rails with custom 
scripts attached. It is exportable to THUG1 and THUG2/PRO, depending on 
which version you open. If you're not so keen on reading this entire 
guide, you can probably pick up on a lot of the new features simply by 
following the example level file.</p>
</div>
</div>

<hr>

<h3 id="Mesh_rails_paths">Mesh, rails and paths</h3>

<div class="row">
<div class="col-md-8">
    <p>If you've used <code>io_thug_tools</code> before, then you should
 have no problem working with mesh, rails and terrain. However, there 
are a few new utilities that make things easier to work with.</p>
    <p>As before, you set up collision on your objects by going into 
Edit Mode, then selecting faces. You can either select vertices that 
make a whole face, or simply change the selection mode in the 3D view to
 face selection. Once you've selected a face, the <strong>TH Collision Mesh Tools</strong>
 menu options appear. There is a selection of toggle boxes indicating 
what 'face flags' are currently set - these determine how your skater 
will interact with the face.</p>
    <p>By default, any mesh that is exported to collision is solid and can be skated/walked on, unless <strong>Non-Collidable</strong> is set on the faces. For more information on what each face flag does, hover your mouse over the button.</p>
    <p>Below the face flags, you'll see a <strong>Terrain Type</strong> 
dropdown menu. This sets the terrain for each face, which controls the 
sound made when walked/skated across as well as any special particle 
effects. </p>
</div>
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/col_flags.png" alt="Object settings" title="Object settings">
    <p></p>
</div>
</div>

<h4 id="Edge_Rails">Edge Rails &amp; Extracted Rails</h4>

<p>One way to set up grindable surfaces is by directly selecting edges 
on the object mesh in Edit Mode (try the edge selection mode in the 3D 
view), and then pressing <strong>Mark Rail</strong>. Edges that are marked grindable will be highlighted red in the 3D view. Use the <strong>Autorail Terrain</strong> field to specify what type of terrain the selected edges will use. </p>

<p><em>Another</em> way to set up rails is using Paths. These give you 
more control, since they are not directly tied to the mesh, but can be a
 little more time consuming to set up correctly. I've included a preset 
which will drop a 2-point rail path at the cursor position, under <code>Add &gt; THUG &gt; Nodes &gt; Rail Node</code>. You can also set up rails on mesh and then press the <strong>Extract Rail</strong> button on selected edges - this will create a rail path in the same location as the edge(s).</p>

<p>To edit the rail path, go into Edit Mode once again, and you should 
see each point along the path as selectable. If you wish to extend the 
path, use the Extrude option (default hotkey is 'E') at one of the ends 
to create a new point. In this mode, terrain type can be specificed 
per-point: when the skater crosses that point then the terrain will 
change. You should see the <strong>TH Collision Mesh Tools</strong> menu expand with a terrain option. Whatever terrain you set will apply to all selected points.</p>

<p>To make a circular path/rail, you need to <strong>mark the path Cyclic</strong>. This is done in the path settings in Blender, under the <strong>Active Spline</strong> menu, by checking off the 'U' checkbox. You should see the path close in Blender.</p>

<div class="alert alert-danger"><strong>NOTE:</strong> Branched paths are <strong>not supported</strong> - your rail/path must be a single loop to export properly.</div>

<h4 id="Waypoints">Waypoints</h4>

<p>Waypoints are navigation paths that allow pedestrians, AI skaters, 
and vehicles to move around your level. They are created in much the 
same way as extracted/rail paths, with a few additional options.</p>

<div class="row">
<div class="col-md-8">
    <p>First off, you need to specify that the path you're working on is a waypoint as opposed to a rail. Under the <strong>TH Object Settings</strong> menu, select 'Waypoint' as the Path Type. Once selected, you'll see a <strong>Waypoint type</strong>
 option: 'None' is used for vehicles as well as simple pedestrians who 
don't have any special rules around navigation. 'Pedestrian AI' is used 
for advanced navigation of pedestrians, as well as 'AI skaters'.</p>
    <p>If you aren't using 'Pedestrian AI', then you simply need to drop
 points along your desired navigation path and everything should work. 
One thing to note is that once you link up a vehicle or pedestrian to 
the path, it will <strong>always link to the first point on the path</strong>. If you want to see where the first point is, I've included a button appearing under <strong>TH Object Utilities</strong>
 named 'Show 1st Pt', which will select the first point on the path. 
You'll want to make sure that your vehicle/pedestrian is placed close to
 the initial point, as it will move from wherever it is placed to that 
point when the level loads.</p>
    <p>If you <strong>ARE</strong> using 'Pedestrian AI', you'll also 
need to specify the type of AI: either Walk or Skate. As you may have 
guessed, 'Skate' is for AI skaters, and this is what defines the path 
they follow as well as what tricks they will do. If you select one or 
more points, you'll see the following menu options:</p>
    <ul>
        <li><strong>Skate Action</strong>: The action/animation when the
 AI skater reaches this point. 'Continue' will result in landing/skating
 along the ground, or continuing a grind, depending on the previous 
action.</li>
        <li><strong>Jump To Next Node</strong>: If checked off, the skater will ollie to the next point on the path. You'll see a few more options appear:<ul>
            <li><strong>Jump Height</strong>: The height the skater will
 jump. This must be high enough to reach the point on the path. 
Somewhere from 60-80 units is considered an 'average' jump.</li>
            <li><strong>Spin Angle</strong>: How much spin the skater will do in the air, in degrees.</li>
            <li><strong>BS/FS/Random</strong>: The direction the skater will spin.</li>
        </ul></li>
    </ul>
</div>
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/waypoint_props.png" alt="Example level" title="Example level">
    <p></p>
</div>
</div>

<div class="alert alert-info"><strong>NOTE:</strong> The 'Vert' skate 
actions are intended for any jumps that aren't on mostly-flat terrain - 
not just quarter pipes, but steeper slopes too! If you use the regular 
actions here, the results won't look so good.</div>

<p>Once your waypoint path is all set up, you can link your pedestrian/vehicle to it by selecting the name of your path in the <strong>Linked To</strong> field in the Object Settings menu, which is outlined below!</p>

<hr>

<h3 id="Object_settings">Object settings</h3>

<p>You'll find a variety of new object settings available, which can be 
seen in the left-hand menu next to the 3D view. The list of settings is 
context-sensitive and will expand/contract as necessary. Here is a 
complete reference of what you should see for almost all object types:</p>

<div class="row">
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/object_settings.png" alt="Object settings" title="Object settings">
    <p></p>
</div>
<div class="col-md-8">
    <ul>
        <li><strong>Object class:</strong> One of the following:<ul>
            <li><strong>LevelGeometry:</strong> Static level mesh which does not move, limited scripting options.</li>
            <li><strong>LevelObject:</strong> Dynamic object which can move, be scripted, and have rigid body collision.</li>
            </ul></li>
        <li><strong>Cast Shadow:</strong> Object will cast a dynamic shadow. Supported on Underground+ version 1.5 and newer.</li>
        <li><strong>Detail Mesh:</strong> This object uses less expensive render settings and is distance-culled. Supported on Underground+ version 1.5 and newer.</li>
        <li><strong>No Skater Shadow:</strong> This object will not render dynamic shadows (can also be set on materials rather than individual objects).</li>
        <li><strong>Export to Collisions:</strong> If checked, this object will be included in the .col file.</li>
        <li><strong>Export to Scene:</strong>  If checked, this object will be included in the .scn file.</li>
        <li><strong>Always Export to Nodearray:</strong> This object definition is always written to the level QB, even if not necessary.</li>
        <li><strong>Light group:</strong> Controls the way lighting is rendered on the object: <ul>
            <li><strong>None:</strong> Default setting - lighting is calculated normally and changes with time-of-day.</li>
            <li><strong>Outdoor:</strong> Same as above, but the setting is exported to the level QB.</li>
            <li><strong>NoLevelLights:</strong> Level lights do not affect this object.</li>
            <li><strong>Indoor:</strong> Lighting does not update with TOD changes - as you can guess, used for indoor areas.</li>
            </ul></li>
        <li><strong>Occluder:</strong> This object is treated as an 
occluder (hides mesh that appears behind it). Used to dynamically hide 
parts of a level for performance, but must be controlled through level 
scripts.</li>
        <li><strong>Autosplit Object on Export:</strong> Splits the object into multiple objects during export - used to overcome poly count limitations on individual objects. <strong>Not recommended</strong> for use on levels - use the 'Autosplit All' option on level export instead.</li>
        <li><strong>Created At Start:</strong> This object is created when the level loads.</li>
        <li><strong>Network options:</strong> Controls how the object is handled in multiplayer games: <ul>
            <li><strong>Default:</strong> Appears in multiplayer games.</li>
            <li><strong>Offline Only:</strong> Only appears in single-player.</li>
        <li><strong>Online (Broadcast):</strong> Appears in network games, events/scripts appear for all players.</li></ul></li>
        <li><strong>TriggerScript Type:</strong> Assigns a script to the object (see above section)</li>
        <li><strong>Is a TrickObject:</strong> This object can be tagged in Graffiti mode.</li>
        <li><strong>Cluster:</strong> Group name for the Graffiti object.</li>
        <li><strong>Node expansion:</strong> Write a set of additional 
properties not directly exposed in the plugin, then assign the name of 
that set here and those properties will be assigned to the object in the
 level QB.</li>
        </ul>
    
</div>
</div>

<h4 id="Batch_properties">Batch properties</h4>

<div class="row">
<div class="col-md-8">
    <p>A newly-added feature allows you to configure some of the most 
common object properties on a selection of objects, rather than one at a
 time. They don't all have to be the same type, either. Simply select 
your objects, then head over to the <strong>TH Object Utilities</strong> menu and press the <u>Object Properties</u> button. You'll see a pop-up menu with some common object properties. By default, everything is set to <code>---</code>: this means the property won't be changed. </p>
    <p>This can be really helpful for quickly configuring indoor areas 
or setting TrickObject clusters. The menu will always pop up with the 
last settings entered and are not reflective of any properties currently
 set on the object(s).</p> 
    <p>Another useful utility is the <u>Set Terrain</u> button, also found in <strong>TH Object Utilities</strong>.
 This lets you set the terrain type for mesh or rails in one step. 
Select the objects/rails you want to update, then choose the terrain 
type from the popup menu. This currently sets terrain on all faces of 
selected mesh, and on <strong>extracted rails</strong> (mesh rails not 
currently supported). Rails will have their terrain updated on the whole
 rail, plus any points which have specific terrain assigned to them.</p> 
</div>
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/batch_props.png" alt="Object settings" title="Object settings">
    <p></p>
</div>
</div>

<hr>

<h3 id="Materials">Materials and Textures</h3>

<p>The interface for managing materials and material passes (textures) 
hasn't seen any dramatic changes, but here's an overview of how it 
works:</p>

<p>To assign a texture to an object, you'll need to create at least one 
Material with with at least one pass. You'll also need a UV map, of 
course - one map per material pass (more on that later). The texture 
slot(s) in your material must be used (checked off in the material pass 
settings), and they must affect the diffuse color of the material to be 
exported.</p>

<div class="row">
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/texture_settings.png" alt="Texture settings" title="Texture settings">
    <p></p>
</div>
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/matpass_settings2.png" alt="Pass settings" title="Pass settings">
    <p></p>
</div>
</div>

<p>This is enough to get your texture to appear in-game. However, there 
are many more settings to control how the texture and material is 
rendered. The <strong>TH Material Pass Settings</strong> menu controls each individual texture pass, while the <strong>TH Material Settings</strong> control the entire material. First, let's look at the Material settings:</p>

<div class="row">
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/mat_settings.png" alt="Object settings" title="Object settings">
    <p></p>
</div>
<div class="col-md-8">
    <ul>
        <li><strong>Terrain type:</strong> The selected terrain will be 
applied to all faces with this material, if they do not have a terrain 
assigned to the object directly.</li>
        <li><strong>Alpha Cutoff:</strong> Drops any alpha values below 
the given threshold. If your translucent textures have odd artifacts, 
you may need to set this to something greater than 0.</li>
        <li><strong>Z Bias:</strong> The engine will use this setting to
 prefer rendering certain faces over others, depending on the Z Bias 
value. Used to prevent z-fighting. Higher values give greater preference
 over other materials.</li>
        <li><strong>Draw order:</strong> Controls the order in which 
materials are drawn. Increase this value for materials with 
translucency, so that the rest of the world will appear behind it.</li>
        <li><strong>Specular Power/Color:</strong> Not used in any THPS game, but was designed to give the appearance of specular reflections.</li>
    </ul>
</div>
</div>

<h4 id="Material_passes">Material passes</h4>

<p>Now, an overview of material passes and their settings. Some, such as
 the blend mode, depend on which pass number your texture is assigned 
to. The THPS/THUG engine supports up to <strong>4 texture passes per material</strong>, and the ordering is top to bottom in Blender (the top pass in the list is pass 0).</p>

<div class="row">
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/matpass_settings.png" alt="Matpass settings" title="Matpass settings">
    <p></p>
</div>
<div class="col-md-8">
    <ul>
        <li><strong>Color:</strong> Texture color is blended with this color. Doesn't work if the TOD changes.</li>
        <li><strong>Blend Mode:</strong> Determines how texture passes 
are mixed with others. Generally, blending is done with the previous 
pass (e.g., texture pass 1 blends with pass 0):<ul>
            <li><strong>DIFFUSE</strong>: Default mode, renders as normal with no blending. Overridden by higher texture passes with the same mode.</li>
            <li><strong>ADD</strong>: Add this texture to the previous pass.</li>
            <li><strong>SUBTRACT</strong>: Subtract from the previous pass.</li>
            <li><strong>BLEND</strong>: Mix with the previous pass (must
 have transparency for any effect). Single-pass materials with 
transparency must also use this mode to render properly.</li>
            <li><strong>MODULATE</strong>: Not yet known, should be similar to a Multiply blending mode but haven't been able to get it working.</li>
            <li><strong>BRIGHTEN</strong>: Similar to a Lighten blending mode.</li>
            <li><strong>GLOSS_MAP</strong>: Intended to be used for specular maps, but that feature is not enabled in the THUG engine.</li>
            <li><strong>BLEND_PREVIOUS_MASK</strong>: Unknown.</li>
            <li><strong>BLEND_INVERSE_PREVIOUS_MASK</strong>:  Unknown.</li>
            <li><strong>MODULATE_COLOR</strong>:  Unknown.</li>
            <li><strong>ONE_INV_SRC_ALPHA</strong>:  Unknown.</li>
            </ul>
            There are also modes with <strong>_FIXED</strong> at the end - these render the texture with a fixed amount of alpha.
        </li>
        <li><strong>Fixed Alpha:</strong> Used with the <strong>FIXED</strong> blending modes. Consider it as the opacity of the texture pass.</li>
        <li><strong>U/V Addressing:</strong> Controls tiling of the UV 
map. By default, Repeat is what you're looking for (and how your 
textures are drawn in Blender). Clamp will stop the texture from tiling 
in one or both directions.</li>
        
        <li><strong>Textured:</strong> Enables the texture.</li>
        <li><strong>Compression:</strong> DXT1 has one bit alpha and a smaller file size, DXT5 has full alpha. You'll likely want DXT5 if your texture has transparency.</li>
        <li><strong>Environment texture:</strong> This texture is 'environment mapped'. It produces a cheap effect used to simulate reflections on glass and other surfaces.<ul>
            <li><strong>Envmap Multiples</strong></li>: Controls the tiling of the texture. Higher values effectively make the texture smaller on the X/Y axis.</ul></li>
        <li><strong>Decal:</strong> Currently unknown, may not be used.</li>
        <li><strong>Smooth:</strong> May not be used, but is on by default.</li>
        <li><strong>Use Transparency:</strong> Enables the alpha channel on this texture.</li>
        <li><strong>Ignore Vertex Alpha:</strong> This pass is not influenced by the vertex alpha channel.</li>
        <li><strong>Has UV Wibbles:</strong> Enable this to animate the UV map, can produce a variety of effects depending on the settings:<ul>
            <li><strong>UV velocity</strong>: The speed at which the UVs animate on the X/Y axis.</li>
            <li><strong>UV frequency</strong>: If greater than 0, UVs will animate back and forth at the given rate.</li>
            <li><strong>UV amplitude</strong>: The maximum range for UVs to move on the X/Y axis.</li>
            <li><strong>UV phase</strong>: Unknown.</li>
        </ul></li>
        <li><strong>Has Animated Texture:</strong> This texture pass contains many textures animated over time (see below).</li>
    </ul>
</div>
</div>

<h4 id="Animating_textures">Animating textures</h4>

<div class="row">
<div class="col-md-8">
    <p>If you've enabled 'Has Animated Texture' on a material pass, you 
can configure the animation settings seen above. You're basically 
creating keyframes with different textures and assigning a time period 
to each, which should be fairly easy for anyone who has worked with 
animation before.</p>
    <p>Add textures by pressing the 'Add' button, which will allow you 
to select a texture and set its Time, which is the number of frames into
 the animation when it will appear. Repeat this for all your keyframe 
textures until you have a desired setup. You also need to set the <strong>Period</strong> to reflect the length of the animation (also in frames). A complete animated texture may look something like on the right.</p>
    
    <div class="alert alert-info"><strong>NOTE</strong>: Since they are 
measured in frames rather than time, the appearance of animated textures
 may differ depending on the system the game is running on.</div>
</div>
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/animated_texture.png" alt="Matpass settings" title="Matpass settings">
    <p></p>
</div>
</div>

<h4 id="The_problem_with_UVs">The problem with UVs</h4>

<p>Not so much a problem as it is a limitation, but one that you 
absolutely need to know before you pull your hair out! If you've ever 
encountered a situation where your textures look fine in Blender but are
 horribly stretched or distorted in-game, you might be running into 
issues with UV maps.</p>

<p>While it is possible in Blender to assign any texture pass to any UV 
map on your object, the TH engine does not allow this. Instead, the UV 
maps are <strong>assigned implicitly using the pass number</strong>. For the first texture pass, it will use the first UV map, then the second map for the second texture pass, and so on.</p>

<p>Thus, in order to get your textures to render correctly in game, <strong>you need at least as many UV maps as texture passes</strong>.
 This also means a maximum of 4 UV maps can be used per object - 
anything else will not be used. So, the ordering of UV maps and texture 
passes are important and must be aligned for everything to work 
correctly.</p>

<div class="alert alert-info">The plugin will attempt to detect when 
your UV maps and texture passes don't line up, and will show a pop-up 
warning after exporting. Technically the export still works, but your 
UVs may not appear correctly in-game.</div>

<p>Out of the box, Blender sadly does not have any tools for re-ordering
 UV maps like it does texture passes. To do so, I recommend an add-on 
you can install which allows you to sort UV maps. It will make things a 
lot easier!</p>

<p><a href="https://github.com/ekaj2/uvmap_tools" target="_blank" class="btn btn-primary">Download UV Map Tools</a></p>

<hr>

<h3 id="Level_scripting">Level scripting</h3>

<p>This verison of the plugin has a totally revamped way of setting up scripts compared to <code>io_thug_tools</code>. A <strong>template system</strong> is used which dramatically reduces the amount of custom scripts you'll need to write to get your level working.</p>

<p>Select the Trigger Script dropdown in the Object Settings menu to see
 the available built-in scripts. This list is dynamic, and changes based
 on the active object in the 3D view. You will see a different list if 
you are editing level geometry compared to rails, vehicles or 
pedestrians. Once you select a script, you'll see the region expand with
 parameters for that script.</p>

<div class="row">
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/triggerscripts_1.png" alt="Trigger scripts" title="Trigger scripts">
    <p></p>
</div>
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/triggerscripts_2.png" alt="Trigger scripts" title="Trigger scripts">
    <p></p>
</div>
</div>

<p>Custom TriggerScripts are still supported, but with some changes. <strong>THUG_SCRIPTS is no longer used</strong>
 - instead, TriggerScripts are handled in individual text blocks in 
Blender. This means you don't have to manage single giant file with all 
possibly-used level scripts; they are automatically separated in the 
editor. You will see that the UI has updated to account for this.</p>

<p>When viewing the object properties, assigning a custom script now 
shows a dropdown with all text blocks in your .blend file - select one 
or press the 'Create/View TriggerScript' button. This button also lets 
you quickly view the script assigned to the current object. If you have a
 text editor in your current workspace, the active document will switch 
to that script.</p>

<div class="row">
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/level_scripts.png" alt="Custom scripts" title="Custom scripts">
    <p></p>
</div>
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/level_scripts2.png" alt="Custom scripts" title="Custom scripts">
    <p></p>
</div>
</div>

<p>The content of your text block should only contain the scripting 
itself - that is, everything in between, but excluding, 
function/endfunction.</p>

<p>The compiler has not changed, so the 'blub' syntax is still used. In 
the future, however, multiple script compilers will be supported!</p>

<div class="alert alert-success"><strong>NOTE:</strong> By default, script names are prefixed with <code>script_</code>. This part is stripped from the script name on export.</div>

<h4 id="Special_Scripts">Special Scripts</h4>

<p>Apart from running scripts on specific objects, there are a few 
special script blocks which are run at certain points in the level 
loading process. The exporter will look for any of the following text 
blocks in your Blender scene - and if it exists, it will export them 
into the level QB file:</p>

<table class="table table-condensed table-bordered table-striped">
    <tbody><tr><th>Name</th><th>Type</th><th>Notes</th></tr>
    <tr class="info"><td><strong>_Startup</strong></td><td>Level startup script</td><td>Runs when the level loads</td></tr>
    <tr class="info"><td><strong>_Setup</strong></td><td>Setup script</td><td>Another init script, but runs after startup</td></tr>
    <tr class="info"><td><strong>_Goals</strong></td><td>Goals script</td><td>Will be auto-generated on export if it doesn't exist, needed for multiplayer game modes</td></tr>
    <tr class="warning"><td><strong>NCOMP</strong></td><td>Node compression dictionary</td><td>Define node properties to be referenced by the <code>Node Expansion</code> field</td></tr>
    <tr class="info"><td><strong>LoadAllParticleTextures</strong></td><td></td><td>Used for loading textures referenced by particle objects</td></tr>
    <tr class="info"><td><strong>LoadTerrain</strong></td><td></td><td>Will be auto-generated on export if it doesn't exist</td></tr>
    <tr class="info"><td><strong>LoadCameras</strong></td><td></td><td>Will be auto-generated on export if it doesn't exist</td></tr>
    <tr class="info"><td><strong>LoadObjectAnims</strong></td><td></td><td>Will be auto-generated on export if it doesn't exist</td></tr>
    <tr class="info"><td><strong>load_level_anims</strong></td><td></td><td>Run animation loading scripts referenced by pedestrians in here. Will be auto-generated on export if it doesn't exist</td></tr>
</tbody></table>

<hr>

<h3 id="Exporting">Exporting</h3>

<div class="row">
<div class="col-md-9">
    <p>Once you've sufficiently finished your scene, head over to <code>File &gt; Export</code> to see the available export options. Currently, you have the option of <strong>level files</strong> or a <strong>model</strong> for THUG1 and THUG2/PRO. Both have similar settings, which you'll find listed below:</p>
    <ul>
        <li><strong>Generate Skybox</strong>: (levels only) Include a skybox with your level. Turn off if you plan on exporting your skybox separately.</li>
        <li><strong>Skybox Name</strong>: (levels only) The skybox to use with this level. You can specify any skybox files contained in the <strong>default_sky</strong> directory of your <strong>thug_tools</strong> installation. You can add skybox files to that folder - just make sure you include the scene/texture file, with the extensions <code>.scn.xbx</code> and <code>.tex.xbx</code>. </li>
        <li><strong>Export normals</strong>: Forces vertex normals to be exported on all objects. Useful for models/skins to ensure that they receive lighting.</li>
        <!--<li><strong>Vertex color hack</strong>: Doubles the intensity of vertex colors. Generally used with imported scenes that, for one reason or another, have very dark vertex colors.</li>-->
        <li><strong>No modifiers</strong>: Modifiers will not be applied to objects during export. This speeds up export dramatically, <strong>especially on large levels with lots of objects</strong>, BUT all objects in your scene must be triangulated prior to export. If there are any objects with quads you will see an <code>AssertionError</code> pop up at some point during export. Check the debug output to find out which object was the source of the problem.</li>
        <li><strong>Autosplit All</strong>: Runs autosplit on all objects in the scene. This is much better at preventing crashes than the previous per-object setting.</li>
        <li><strong>Pack files into .prx</strong>: Packs the level files into a .prx file.</li>
        <li><strong>Is Park Editor</strong>: Enable if you are exporting
 a park editor dictionary scene. Generates differently sized bounding 
boxes and nudges autorails to be compatible with the editor.</li>
        <li><strong>Generate tex/scn/col file</strong>: Allows you to only export certain files. Useful for quick tests where you don't need to rebuild textures or scripts, etc.</li>
        <li><strong>Export scale</strong>: The entire scene will be scaled by the factor specified. If your scaling was off this can allow you to quickly fix it.</li>
        <li><strong>Mipmap offset</strong>: A quick hack to reduce the 
resolution of your textures. Effectively shifts mipmap generation by the
 specified factor, setting it to <code>1</code> will produce textures <strong>1/4 the size of the base textures</strong>, <code>2</code> will be 1/8th, and so on.<ul>
            <li><strong>Only Lightmaps</strong>: Only apply the mipmap offset to lightmap textures (your scene must be baked first!)</li>
            </ul></li>
    </ul>   
</div>
<div class="col-md-3">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/export_settings.png" alt="Export settings" title="Export settings">
    <p></p>
</div>
</div>

<h4 id="Quick_Exporting">Level Settings/Quick Exporting</h4>

<div class="row">
<div class="col-md-3">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/quick_export.png" alt="Quick Export" title="Quick Export">
    <p></p>
</div>
<div class="col-md-9">
    <p>The settings outlined above can also be saved directly to your 
scene, enabling the new 'Quick Export' option which lets you export your
 scene/model in a single click! Head over to the 'Scene' tab in the 
Properties window, and you should see a <strong>TH Level Settings</strong> menu. This contains two things: the <strong>Quick Export</strong> settings, and your level properties - which is used for custom level support on THUG PRO.</p>

    <p>To start, check off the 'Quick Export' option if you want to use 
it, and you will see the same export settings above, along with a few 
others. Anything marked with <strong>*</strong> is required for Quick Export:</p>
    <ul>
        <li><strong>Level Name</strong>: Name of the level as it appears in menus.</li>
        <li><strong>Scene Name</strong>*: File name of the level/model (i.e., 'NJ' will output 'levels/NJ/NJ.scn.xbx', 'levels/NJ/NJ.col.xbx', etc).</li>
        <li><strong>Target Game</strong>*: The game engine you will be exporting this scene to.</li>
        <li><strong>Export Path</strong>*: The location the files will be created. If you want to export directly to the game, choose the <code>Data</code> folder for either THUG1 or THUG2/PRO. This will overwrite files, so be careful!</li>
        <li><strong>Level/Model</strong>*: Choose one, depending on what you are exporting.</li>
    </ul>
    <p>Once you've examined the export settings, you'll see two categories: <strong>Level Lights</strong> and <strong>Level Flags</strong>. These are optional settings which are used for custom level integration in THUG PRO. Currently, <strong>Level Lights</strong> is not implemented, but may be in the future.</p>
</div>
</div>

<p></p>

<h4 id="PRX_limitations">.prx Limitations</h4>

<p>Your level files can be packed into .prx files during export, but you
 should know that there are some problems with this format. Notably, <strong>there is a problem with large .prx files</strong> loaded to <strong>THUG1, THUG2, THUG PRO, and Underground+</strong>.
 Essentially, the decompression process running in the game engine runs 
out of available memory when the .prx file exceeds a certain size. The 
limit is not exactly known, but it has been demonstrated to be around <strong>60-70MB on THUG PRO</strong>.</p>

<p>So before you pull your hair out, that may well be the reason your 
exported level crashes on loading! You'll need to export into flat 
files. While there isn't currently an easy way to move those into THUG 
PRO, Underground+ will soon support custom levels with flat files via 
the launcher, and the same feature is likely coming to THUG PRO as well.
 </p>

<h4 id="Export_locations">Export Locations</h4>

<p>This version of plugin generates files a little different than <code>io_thug_tools</code>.
 The structure of the output better matches the directory structure of 
the actual game, so that you could export directly to the game if 
desired. </p>

<p>When you choose a place to export your level and enter a name, the files are written relative to the chosen directory, in <code>Levels/[level name]/</code> and in <code>pre/[level_name].prx</code> (if .prx exporting was enabled). So, if you wanted to export directly to the game, you would choose the <strong>Data</strong>
 folder of your desired game and then enter the level name in the export
 menu. In the future, a quick export option like this may be added by 
allowing you to specify the game directories in the plugin settings.</p>

<hr>

<h3 id="Baking_Lightmaps">Baking Lightmaps</h3>

<div class="alert alert-danger"><strong>NOTE</strong>: Lightmap baking 
is not supported on the base games, legacy versions of THUG PRO or 
Underground+ versions older than 1.5. The implementation seen in UG+ 1.2
 was a low quality hack and is not used anymore.</div>

<p>One of the coolest features of the new plugin is the ability to 
automatically bake lightmaps into your level. This uses the baking tools
 in Blender, but made vastly more simple and user-friendly. Once you've 
set up your lighting, you can bake the whole level in only a couple 
clicks.</p>

<p>One thing to note, though, is that baking is SLOW, and very dependent
 on hardware. You'll want to enable the console window in Blender so 
that you can watch the progress and see approximately when it will be 
finished. A high-quality bake of your whole level, intended for release,
 will probably be an overnight job. Baking is done in Cycles, so your 
render settings in there will impact the bakes. If you have a powerful 
GPU then enable GPU rendering; it will be faster than CPU in most cases.</p>

<p>Another thing to keep in mind is that baking is expensive! Not only 
in terms of time, but file size. Your tex file will definitely be much 
larger than its original size (depending on your resolution settings), 
and your scn file will get larger too, as each object will have a unique
 material. There are no known hard limits on the game engine, but it 
could be more difficult to share as a whole level can range from 
25-100MB or more, depending on how you well you optimize.</p>

<p>If these limitations are acceptable, then it's time to start baking. 
You will find it looks MUCH better than the vertex-colored 'lighting' 
from the existing levels, but there's a few limitations:</p>

<ul>
    <li>In the legacy material system, the lightmaps will be influenced 
by the scene lighting/scene color, so unless you have the TOD set to 
'Day' it may not look exactly the same as in Blender.</li>
    <li>Lightmaps are static textures and will not update when objects 
are moved/disabled. If you're a very advanced user who is not concerned 
with file sizes, it may be possible to set up looping animated lightmap 
textures to capture things like the motion of tree branches or even 
clouds overhead.</li>
</ul>

<p>You'll start by setting up your scene with your desired lighting. It 
should be fairly close to completion, as you don't want to waste a lot 
of time re-baking the whole scene over and over. Once you're ready, head
 on over to the object and World settings to configure your desired 
options.</p>

<h4 id="Bake_settings">Bake Settings</h4>

<p>Each object in your scene has a few lightmap-specific settings, which
 you can see in the properties window of a 3D viewport. Under the TH 
Lightmap Tools option group, you can configure the following:</p>

<div class="row">
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/lightmap_settings.png" alt="Object settings" title="Object settings">
    <p></p>
</div>
</div>

<ul>
    <li><strong>Lightmap resolution</strong>: This determines the 
texture resolution that will store the lighting. The higher you go, the 
more detailed the results will be. If you're not sure what to use, 
there's an operator (button) in the World settings to automatically set 
the resolution (covered further down in the guide)</li>
    <li><strong>Lightmap quality</strong>: The quality of the bake 
results. All bakes are done using the Cycles render engine - which is a 
raycast engine that produces photorealistic lighting, but is prone to 
grainy results depending on how many render passes you use. The quality 
field is effectively a list of presets for the number of cycles used for
 the bake, and the number of light bounces. Higher quality settings take
 longer, of course. For reference, Ultra quality should take about 
10-15x longer per object than Preview. </li>
    <li><strong>UV Type</strong>: In order to bake lightmaps, a new UV 
map is generated on each object. This setting controls the method used 
to auto-generate the UV map. 'Lightmap' is the most common and 
compatible with many types of meshes: it provides consistent resolution 
for each face on the object at the cost of possible stretching/warping, 
depending on your mesh. Sometimes a Lightmap UV map will not work well 
if the mesh is too dense (too many polys). The 'Smart' UV type is less 
efficient, but more compatible with dense mesh. </li>
</ul>

<div class="alert alert-info"><strong>TIP:</strong>
    If you are baking lightmaps, <strong>work with quads until your lightmaps are fully baked!</strong>
 Triangulated mesh will have more problems with UV seams, causing lines 
and gaps to appear in-game. If this is not an option, use the <strong>Smart</strong> UV type.</div>

<p>Again, these options are set per-object, including the quality 
setting. This allows you to have greater control over bake times. Indoor
 scenes generally take longer to produce good results, so you can assign
 different quality settings to your indoor and outdoor areas.</p>

<h4 id="Lightmap_settings">Lightmap Settings</h4>

<div class="row">
<div class="col-md-8">
    <p>You also have some world settings for lightmaps. These apply to 
all objects that are being baked. Head over to the World settings and 
you should find the Lightmap options at the bottom:</p>
    <ul>
        <li><strong>Lightmap scale</strong>: This multiples the lightmap
 resolution of all objects by the desired factor. Useful when you want 
to quickly do a higher quality bake of the whole scene.</li>
        <li><strong>Bake Type</strong>: The type of bake you want. Some use the Cycles render engine, other use BR:<ul>
            <li><strong>Ambient Occlusion</strong>: (BR) Bakes ambient occlusion only. Useful for models/skins.</li>
            <li><strong>Full Diffuse</strong>: (BR) Bakes a full result 
to a texture. Provides very accurate results in-game, but lowers texture
 resolution (since the diffuse texture is included in the lightmap).</li>
            <li><strong>Lighting Only</strong>: (BR) Bakes only lighting
 result to a texture, that is then blended with the diffuse texture(s) 
using Multiply. Preserves base texture resolution.</li>
            <li><strong>Vertex Colors</strong>: (BR) Bakes lighting result to vertex colors. Quality depends on the density of the mesh.</li>
            <li><strong>Full Diffuse</strong>: (Cycles) Same as Full Diffuse on BR, but using the Cycles engine.</li>
            <li><strong>Lighitng Only</strong>: (Cycles) Same as Lighting Only on BR, but using the Cycles engine.</li>
            </ul></li>
        <li><strong>Bake Slot</strong>: Supported on Underground+ 1.5 
and newer, using the new material system. Allows you to bake up to 4 
sets of lightmaps per material, representing different times of day 
(Day, Evening, Night, Morning).</li>
        <li><strong>Calculate Margins</strong>: Let the plugin attempt 
to set the bake margins automatically. Otherwise, the margin specified 
in the render settings will be used.</li>
    </ul>

    <p>The following actions are available:</p>
    <ul>
        <li><strong>Toggle Lightmap Preview</strong>: Effectively a switch to convert materials to Cycles and back. Only useful when baking with Cycles.</li>
        <li><strong>Select Baked/Select New</strong>: These let you quickly select all objects which have been previously baked, or ones that haven't been baked.</li>
        <li><strong>Auto-set Resolution</strong>: This loops through 
each object in your scene and automatically sets the lightmap 
resolution, based on the density and size of the mesh. You'll still need
 to configure some objects for best results, but this is a good start.</li>
        <li><strong>Fix Materials</strong>: Automatically attempts to 
resolve the UV map issue (read The Problem with UVs) by filling in 
materials with empty textures, in order to ensure the new lightmap UV 
map lines up with the texture slot.</li>
    </ul>
</div>
<div class="col-md-4">
    <img class="img-responsive" src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/lightmap_settings2.png" alt="Object settings" title="Object settings">
    <p></p>
</div>
</div>

<p>Once you've configured everything to your satisfaction, select the 
objects you want and then press the 'Bake Lighting' button! Results are 
output to the console as it's processing, so you can watch how it's 
going and determine if you need to start over again. There is no way to 
cancel the bake process, so make sure that your blend file is saved 
before doing any baking - if you should find that your full-level bake 
is going to take 18 hours and you want to play THUG Pro with friends in 
20 minutes, then you'll have to close Blender completely (losing any 
unsaved changes) and try again with different settings.</p>

<p>The generated lightmap textures are always saved to a 'Tx_Lightmap' 
folder relative to the location of your .blend file, in a folder that is
 the same name as your blend file. Filenames are the same as the object 
names, with a 'LM_' prefix.</p>

<hr>

<h3 id="Import_Tools">Import Tools &amp; Utilities</h3>

<p>For those who don't want to put the time into building a whole level 
from scratch, or who enjoy making remixed/extended versions of existing 
levels, a variety of import tools are available. Currently, the 
following formats can be imported:</p>

<table class="table table-condensed table-bordered table-striped">
    <tbody><tr><th>Format</th><th>Type</th><th>Game</th><th>Notes</th></tr>
    <tr class="success"><td>.psx</td><td>Level scene/Character skin</td><td>THPS (Beta) PS1</td><td>Billboards not supported yet</td></tr>
    <tr class="success"><td>.psx</td><td>Level scene/Character skin</td><td>THPS (Beta) Dreamcast</td><td>Billboards not supported yet</td></tr>
    <tr class="success"><td>.psx</td><td>Level scene/Character skin</td><td>THPS (Retail) PS1</td><td>Billboards not supported yet</td></tr>
    <tr class="warning"><td>.psx</td><td>Level scene/Character skin</td><td>THPS (Retail) Dreamcast</td><td>Mesh only</td></tr>
    <tr class="success"><td>.psx</td><td>Level scene/Character skin</td><td>THPS2 (Beta)</td><td>Billboards not supported yet</td></tr>
    <tr class="success"><td>.psx</td><td>Level scene/Character skin</td><td>THPS2 (Retail) PS1</td><td>Billboards not supported yet</td></tr>
    <tr class="warning"><td>.psx</td><td>Level scene/Character skin</td><td>THPS2 (Retail) Dreamcast</td><td>Mesh only</td></tr>
    <tr class="success"><td>.psx</td><td>Level scene/Character skin</td><td>THPS3</td><td>Billboards not supported yet</td></tr>
    <tr class="success"><td>.psx</td><td>Level scene/Character skin</td><td>THPS4</td><td>Billboards not supported, some collision flags wrong</td></tr>
    <tr class="success"><td>.scn</td><td>Level scene</td><td>THPS4</td><td></td></tr>
    <tr class="success"><td>.scn</td><td>Level scene</td><td>THUG1</td><td>&nbsp;</td></tr>
    <tr class="success"><td>.scn.xbx</td><td>Level scene</td><td>THUG2/PRO</td><td>&nbsp;</td></tr>
    <tr class="success"><td>.mdl</td><td>Model</td><td>THPS4</td><td>&nbsp;</td></tr>
    <tr class="success"><td>.mdl</td><td>Model</td><td>THUG1</td><td>&nbsp;</td></tr>
    <tr class="success"><td>.mdl.xbx</td><td>Model</td><td>THUG2/PRO</td><td>&nbsp;</td></tr>
    <tr class="success"><td>.skin</td><td>Character skin</td><td>THPS4</td><td>&nbsp;</td></tr>
    <tr class="success"><td>.skin</td><td>Character skin</td><td>THUG1</td><td>&nbsp;</td></tr>
    <tr class="success"><td>.skin.xbx</td><td>Character skin</td><td>THUG2/PRO</td><td>&nbsp;</td></tr>
    <tr class="danger"><td>.col</td><td>Collision file</td><td>THPS4</td><td>Not currently supported</td></tr>
    <tr class="success"><td>.col</td><td>Collision file</td><td>THUG1</td><td>&nbsp;</td></tr>
    <tr class="success"><td>.col</td><td>Collision file</td><td>THUG2/PRO</td><td>&nbsp;</td></tr>
    <tr class="success"><td>.ske</td><td>Skeleton</td><td>THUG2/PRO</td><td>&nbsp;</td></tr>
    <tr class="warning"><td>.prk</td><td>Custom Park</td><td>THUG1</td><td>See section below</td></tr>
    <tr class="warning"><td>.prk</td><td>Custom Park</td><td>THUG2/PRO</td><td>See section below</td></tr>
    <tr class="warning"><td>.qb</td><td>Level NodeArray</td><td>THUG1</td><td>See section below</td></tr>
    <tr class="warning"><td>.qb</td><td>Level NodeArray</td><td>THUG2/PRO</td><td>See section below</td></tr>
</tbody></table>

<h4 id="Importing_Levels">Importing Levels</h4>

<p>To fully import a level, you need the scene/collision files, as well 
as the NodeArray and TriggerScripts from the level QB file. The plugin 
currently handles mesh importing easily, and <strong>limited support</strong> for importing nodes and scripts from levels. The proper order to follow when importing a level is as follows:</p>

<ol>
    <li>Import scene file</li>
    <li>Import collision file</li>
    <li>Import NodeArray (see below)</li>
    <li>Merge scene/collision (if desired)</li>
    <li>Import TriggerScripts (see below)</li>
</ol>

<p>NodeArray importing is supported, but <strong>not directly from the .qb file</strong>.
 There is partial .qb importing, but this only allows you to set the 
object names from imported scenes. Eventually, full qb parsing may be 
added - but for now, you need a script file which lays out the same 
properties for the level nodes, but in Python format. I have a selection
 of these available for download, with more coming soon:</p>

<p><a href="#" class="btn btn-lg btn-success">Download level NodeArray definition files</a></p>

<p>Once you have the desired file, paste it into a text block named <code>NodeArray</code>, then <strong>run the script</strong>. You shouldn't see anything happen yet. Then, head over to the Import Tools menu and you should see the <strong>Import NodeArray</strong>
 button is no longer inactive. Click it to bring up a small prompt with a
 list of supported TH games - choose the one that corresponds to the 
level you're importing, then click OK.</p>

<p>After a little while (depending on the size of the level and your 
system), you should see a bunch of new nodes inserted into your level, 
and mesh objects should now have readable names rather than checksums. 
The following elements can currently be imported by the plugin:</p>

<ul>
    <li>Restarts</li>
    <li>Rails/Ladders</li>
    <li>Vehicles &amp; Pedestrians</li>
    <li>Waypoints</li>
    <li>Bouncy objects</li>
    <li>KOTH crowns and CTF flags/bases</li>
    <li>Proximity nodes*</li>
    <li>Particle emitters*</li>
    <li>Sound emitters*</li>
</ul>

<p><em>Anything denoted with * indicates partial and/or incomplete support</em></p>

<p>For convenience, these nodes are automatically placed into 
appropriately-named Groups, which you can check out once the import is 
complete. This makes it easy to modify or delete any types of nodes you 
don't need.</p>

<p>Generally, once you've imported the NodeArray, your level will be 
more or less ready to export and play. Even though the scripting is not 
imported, the plugin generates blank scripts for any trigger objects - 
so you can skate the level, but nothing happens in it.</p>

<p>If you're ready to import the scripts, create a text block named <code>THUG_SCRIPTS</code>
 and insert your scripts there. You only need the actual TriggerScript 
definitions (everything with function/endfunction blocks), nothing from 
the NodeArray. You need to ensure these scripts are in a supported 
scripting syntax (currently, only Blub), then press the <strong>Import TriggerScripts</strong>
 button that should now be selectable. Choose 'Scripts only' as the 
import type, and check off 'Replace Existing Scripts' if you're 
importing the scripts <strong>after</strong> importing the NodeArray (otherwise the blank scripts won't be replaced).</p>

<div class="alert alert-danger"><p><strong>NOTE:</strong> The plugin <strong>does not validate scripting</strong>,
 so importing scripts from legacy games can definitely cause crashes on 
startup or after loading. You may need to modify some scripts after 
importing, depending on the target game.</p>
<p>Also, vehicles and pedestrians may not behave exactly the same when 
imported, and not all elements may work correctly. This is due to 
limitations with linking nodes to objects in the plugin (currently, 
links only point to entire paths rather than individual points on a 
path). If you save the <code>NodeArray</code> and <code>THUG_SCRIPTS</code> blocks in your .blend file, you may be able to re-import with greater accuracy in future releases that improve linking.</p></div>

<p>&lt;</p>

<p>p&gt;I've provided a couple utilities to help deal with differences between game engines. Under <strong>TH Object Utilities</strong>,
 click the Set Pedestrians or Set Vehicles buttons to auto-fill all 
pedestrians/vehicles in your imported level with default settings based 
on the selected target game (the one you're exporting the level for). 
This ensures that imported pedestrians and vehicles will not have 
invalid references (such as models that don't exist in the game).</p>

<h4 id="Importing_Parks">Importing Custom Parks</h4>

<p>One of my favourite additions to the plugin is the ability to import 
custom parks from THUG1 and THUG2/PRO! This should help greatly speed up
 the level design process. Building level from scratch in Blender alone 
can be a pain, since it's hard to judge how your level will flow without
 doing full exports every time you want to try something. Now, you can 
start building your level in the park editor, and once you're satisfied 
with the layout, import that into Blender and turn it into a custom 
level with your own theme!</p>

<p>Before continuing, you need to know the following limitations:</p>

<ul>
    <li>Your custom park must have <strong>NO gaps or created goals</strong> to import correctly. This part of the .prk format has not been fully mapped out and will cause the import to crash.</li>
    <li>Rails created with the rail editor will only have proper looking
 posts if the rails are above ground-level. Corners may not link up 
correctly due to how the engine merges duplicate points (which this 
importer doesn't currently handle).</li>
    <li>Only rails from the rail tool are generated on import. This is 
because the game would crash on most exported custom parks with the 
amount of rails applied to every piece - the game engine has a process 
for removing rails in invalid/overlapping regions (such as against 
walls) which the plugin cannot currently handle.
    </li><li>Once imported, parks will make the Blender viewport very 
slow, especially in Material view. This is because each block is its own
 object, and the viewport gets slow when you have thousands of objects 
in the scene. You can join objects together and remove doubles to 
resolve this performance issue, especially on the floor pieces.</li>
</ul>

<p>If you're aware of these limitations and are ready to import a park, simply use the import menu and select <strong>THUG1/2 Custom Park</strong>, then choose your .prk file from the file selector. On the left, you'll see a few import options:</p>

<ul>
    <li><strong>Generate Floor/Risers</strong>: If checked, the floor and riser pieces will be imported. Otherwise, only park pieces will be imported.</li>
    <li><strong>Import Pieces</strong>: Imports the actual park pieces when checked.</li>
    <li><strong>Import Rails</strong>: Imports rails placed with the Rail Editor when checked.</li>
</ul>

<p>The import process is a little slow, so give it a minute or two. You 
can check the progress in the console window to ensure it's actually 
working! Once it's done, your scene should have your custom park in it. 
The viewport will also be really slow, due to the massive number of 
objects created. As mentioned above, you can reduce the object count by 
joining objects together and removing doubles - especially on 
floor/riser pieces!</p>

<div class="alert alert-info"><strong>NOTE:</strong> You'll find the 
riser pieces for THUG2/PRO custom parks are not the same theme (they 
look the same as in THUG1). This is because of a change that was made to
 risers in THUG2 to optimize performance, but requires more 
sophisticated updates to the import tool to support. For now, I left it 
as is.</div>

<hr>

<h3 id="Known_issues">Known issues</h3>

<p>No release would be complete without these! Here's some quirks and 
not-totally-baked parts of the plugin that I'm already aware of, and 
which have some workarounds or will be addressed in the future:</p>

<ul>
    <li>Deleting nodes with helper models (e.g., restarts, 
vehicles/pedestrians, CTF components) does not delete the model, which 
then appears at the origin (0,0,0). This can be resolved by finding the 
model in the <strong>Visual Helpers</strong> group and deleting it manually.</li>
    <!--<li>The export warning about UV/texture pass mismatch is not always accurate and will sometimes warn when the in-game result will appear correctly.</li>-->
    <li>Particles, emitter objects and proximity nodes do not have full 
implementation in the plugin, and are primarily there to support the 
re-export of imported scenes. While you can technically set up a 
particle emitter through the UI, it would be a bit of a pain!</li>
    <li>Exporting collision with the <strong>No Modifiers</strong> speed
 hack does not throw an error when there are quad faces, allowing the 
file to be generated with invalid vertices (causing a crash).</li>
</ul>

<hr>

<h3 id="Useful_scripts">Useful scripts</h3>

<p>While the plugin handles a lot of scenarios directly, there are a few
 things not currently implemented in the UI, but which I have written 
some Python scripts to handle. I thought I would list them here, in case
 you're having any of the problems I encountered when building custom 
levels:</p>

<div class="row">
    <div class="well well-small col-md-6">
        <p><a href="https://gist.github.com/denetii/2a281d9d92835e55e6fa3b1bd572fcea" target="_blank" class="btn btn-primary"><i class="glyphicon glyphicon-download-alt"></i> Batch Remove Doubles</a><br>
        Runs on a selection of objects and merges all duplicate vertices
 on the mesh. If you're working with imported scenes/objects from the 
THPS games, all objects will have doubles in the mesh, making editing a 
pain unless you remove doubles. Watch out, though, as a few levels have 
duplicated mesh with different materials assigned (buildings in Manhttan
 is one example).</p>
        
        <hr>
        
        <p><a href="https://gist.github.com/denetii/556820c8c42a803bc5d40b1a5e38d761" target="_blank" class="btn btn-primary"><i class="glyphicon glyphicon-download-alt"></i> Cleanup Duplicate Materials</a><br>
        Some Blender import tools, such as the OBJ importer, are not 
very smart and will create duplicate materials regardless of what is 
currently in the scene. This script should remove all duplicate 
materials and resolve the references down to one. It effectively matches
 any material names that end with a numerical value (e.g., .001, .002).</p>
        
        <hr>
        
        <p><a href="https://gist.github.com/denetii/0459cd4d5db013dba880b6c18291b3b5" target="_blank" class="btn btn-primary"><i class="glyphicon glyphicon-download-alt"></i> Fix Draw Order</a><br>
        Run this script to set the Draw Order to 108 on all materials 
which have texture passes with transparency (must be set to DXT5 
compression). This should get your transparent materials to render 
correctly without having to modify each material individually.</p>
       
       <hr>
        
        <p><a href="https://gist.github.com/denetii/c79a5de733a27dc7e82c639b6c56be08" target="_blank" class="btn btn-primary"><i class="glyphicon glyphicon-download-alt"></i> Remove VC channel</a><br>
        Run this script on a selection of objects, and deletes the 
'color' vertex color channel (used for vertex colors in TH games). 
Vertex colors can interfere with lightmap bakes, so you'll want to 
remove them before exporting.</p>
    </div>
    <div class="well well-small col-md-6">
        <p><a href="https://gist.github.com/denetii/7d6ea7f0845146c74abc4aed938c4577" target="_blank" class="btn btn-primary"><i class="glyphicon glyphicon-download-alt"></i> Adjust Texture Pass Color</a><br>
        Run this script on a selection of objects, and it will 
automatically set the color on all materials/texture passes assigned to 
the objects.</p>
        
       <hr>
        
        <p><a href="https://gist.github.com/denetii/713fda46f78aea1a368a7d7d41c90279" target="_blank" class="btn btn-primary"><i class="glyphicon glyphicon-download-alt"></i> Batch Apply Decimate</a><br>
        Run this script on a selection of objects to quickly apply any 
Decimate modifiers. If you have a large scene and are using modifiers to
 lower the poly count, this will permanently apply the changes. I have 
used this in the past to get large levels fully triangulated so that I 
can export with the 'No Modifiers' speed hack.</p>
        
       <hr>
        
        <p><a href="https://gist.github.com/denetii/077445e32f036856ef4b6982bb9b74d5" target="_blank" class="btn btn-primary"><i class="glyphicon glyphicon-download-alt"></i> Remove Duplicate Objects</a><br>
        Runs on a selection of objects and deletes any duplicate 
objects. The comparison is done on the mesh, so the world matrix of the 
objects is compared along with the vertices. Basically the mesh must be 
identical, and in the same position for this to work. It can help 
prevent issues with collision and overlapping rails.</p>
        
       <hr>
        
        <p><a href="https://gist.github.com/denetii/5b3f5be74704a284ef123e849d3d7cc7" target="_blank" class="btn btn-primary"><i class="glyphicon glyphicon-download-alt"></i> Configure rails/paths</a><br>
        Applies the new materials on rails/ladders/waypoints and other 
paths. Useful for legacy scenes, as this conversion is not done 
automatically yet. You could also edit this to use your own materials.</p>
    </div>
</div>

<hr>

<h3 id="Change_Log">Change Log</h3>

<h4>1.5 - March 11, 2020</h4>

<ul>
    <li>Various importer bug fixes</li>
    <li>Export scale actually works now!</li>
    <li>Added THPS4 collision importing and .img importing (THPS4-THUG2)</li>
    <li>Game asset integration - configure the path to your game and NPC/vehicle models will be shown in the Blender viewport!</li>
    <li>Improved particle object settings, added visualization of particle properties</li>
    <li>Added material blending, allows you to combine multiple materials together using vertex alpha and/or texture alpha</li>
    <li>Collision intensity data can now be imported/exported</li>
    <li>Added new bake types, lightmaps can now be converted to vertex colors</li>
    <li>Lightmap groups are now supported for more optimal baking</li>
    <li>Added billboard import/export support</li>
    <li>Fixed bug where linked paths would sometimes fail to export correctly</li>
    <li>Replaced mipmap offset with max texture size setting - much more useful!</li>
</ul>

<h4>1.1 - July 6, 2018</h4>

<ul>
    <li>Added PSX scene importing! First-gen levels from the THPS beta up to THPS4 can now be imported</li>
    <li>Added optional padding/safe zone to lightmap UVs, dramatically reduces the amount of seams/gaps in lightmap bakes</li>
    <li>Also added option to force the recreation of lightmap UVs when baking, saves time when modifying meshes</li>
    <li>Fixed bake issue where transparency from multiple materials on the same object would be ignored</li>
    <li>Fixed missing skybox name from level manifest</li>
    <li>Fixed a rare export error where col generation could fail when a collision object has trigger faces but no script assigned</li>
    <li>Fixed linux path issues</li>
    <li>Fixed issue where CTF/Team flags would not have trigger scripts</li>
</ul>

<h4>1.0 - June 19, 2018</h4>

<ul>
    <li>Initial release.</li>
</ul>
        </div>
        <footer>
<div id="footer">
  <div class="row">
    <div class="col-md-6">
        <div class="list-group">
          <a href="https://tharchive.net/index.html" class="list-group-item">Home</a>
          <a href="https://tharchive.net/videos/classic_videos.html" class="list-group-item">Videos</a>
          <a href="https://tharchive.net/pages.html" class="list-group-item">Pages</a>
          <a href="https://tharchive.net/links.html" class="list-group-item">Links</a>
        </div>
    </div>
    
    <div class="col-md-6">
        <div class="list-group">
          <a href="https://www.youtube.com/channel/UCkdQQFyFki6eIO8NcKewWCw" target="_blank" class="list-group-item">YouTube Channel</a>
          <a href="http://steamcommunity.com/groups/thps" target="_blank" class="list-group-item">Steam Group</a>
          <a href="https://discord.gg/BdazmbQ" class="list-group-item" target="_blank">Discord <img src="Blender%20plugin%20for%20THPS%20custom%20levels_models%20(io_thps_scene)%20-%20Tony%20Hawk%20Archive_tiedostot/Discord-Logo-Color.png" style="height:24px;"></a>
          <a href="https://tharchive.net/thlive.html" class="list-group-item">THLiVE.NET Archive</a>
        </div>
    </div>
  </div>
  <p><small>2013 - 2020 by denetii. Created with Bootstrap. <a href="#">Support</a></small></p>
</div>
</footer>        </div>
    </div> <!-- /container -->
    


</body></html>